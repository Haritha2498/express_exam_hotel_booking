<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>

</head>
<body>
    <div class="w-12/12">
        <br>
    <a href="/">
        <button type="submit " class="p-4 h-16 border mr-10 bg-blue-300 hover:bg-blue-400 float-right" >HOME </button>
        
    </a> 
    </div> 

    
    <div class="pt-8 text-center font-semibold text-2xl">HOTEL BOOKING DETAILS FOR DAY:
<span id="entrydate"> </span>



    </div>
    <div class="mt-5 mx-auto w-[80%] bg-white p-6 rounded-lg">
        <table class="w-full table-auto border-collapse text-center">
            <thead>
                <tr>
                    <th class="border px-4 py-2">ROOM NO</th>
                    <th class="border px-4 py-2">BOOKING Name</th>
                    <th class="border px-4 py-2">CHECK OUT DATE</th>
                    
                </tr>
            </thead>
            <tbody id="tasksTable">
                
            </tbody>
        </table>
    </div>



    <script>


            async function getdata(){

            const url=window.location.href;
            const id=window.location.pathname.split('/').pop();


            try{
                const response=await fetch(`/viewday/data/${id}`);

                const hoteldet=await response.json();
                document.getElementById("entrydate").innerHTML=id
                const tab = document.getElementById('tasksTable');
                tab.innerHTML = '';
                hoteldet.forEach(task => {
                    tab.innerHTML += `
                        <tr>
                            
                            <td class="border px-4 py-2">${task.room}</td>
                            <td class="border px-4 py-2">${task.name}</td>
                            <td class="border px-4 py-2">${task.exit}</td>
                            
                        </tr>
                    `;
                });
                    
                }

            catch(error){
            console.log("error");
            document.getElementById("empid").innerHTML="no id found";
        }
    }

document.addEventListener('DOMContentLoaded',getdata);


        // async function loadTasks() {
        //     try {
        //         const response = await fetch('/viewday/data');
        //         const hoteldet = await response.json();
        //         document.getElementById("entrydate").innerHTML="hello"
        //         const tab = document.getElementById('tasksTable');
        //         tab.innerHTML = '';
        //         hoteldet.forEach(task => {
        //             tab.innerHTML += `
        //                 <tr>
                            
        //                     <td class="border px-4 py-2">${task.room}</td>
        //                     <td class="border px-4 py-2">${task.name}</td>
        //                     <td class="border px-4 py-2">${task.exit}</td>
                            
        //                 </tr>
        //             `;
        //         });
        //     } catch (error) {
        //         console.error('Error loading ');
        //     }
        // }

        // document.addEventListener('DOMContentLoaded', loadTasks);
    </script>
</body>
</html>